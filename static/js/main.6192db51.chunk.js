(this["webpackJsonpmy-first-react-app"]=this["webpackJsonpmy-first-react-app"]||[]).push([[0],{36:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(29),a=n.n(i),o=(n(36),n(37),n(30)),s=n(2),u=n(5),j=n.n(u),l=n(10),d=n(8),b=n(1),h=function(e){var t=e.children,n=e.showModal,c=e.closeModal;return n?Object(b.jsxs)("div",{style:{position:"fixed",top:"10vh",left:"0",background:"white",overflow:"auto",height:"80vh",border:"solid 1px black"},children:[Object(b.jsx)("h2",{children:"Modal"}),t,Object(b.jsx)("button",{onClick:c,children:"Close"})]}):null},f=n(13),O=n(14),v=n(17),p=n.n(v),x="b1114fdf",m=function(){function e(){Object(f.a)(this,e)}return Object(O.a)(e,[{key:"getMoviesByTitle",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n,c,r=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,c="https://www.omdbapi.com/?s=".concat(t,"&page=").concat(n,"&apikey=").concat(x),e.abrupt("return",p.a.get(c).then((function(e){return e.data})).catch((function(e){return console.error(e)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieById",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://www.omdbapi.com/?i=".concat(t,"&apikey=").concat(x),e.abrupt("return",p.a.get(n).then((function(e){return e.data})).catch((function(e){return console.error(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),g=function(e){var t=e.id,n=Object(c.useState)(),r=Object(d.a)(n,2),i=r[0],a=r[1],o=new m;Object(c.useEffect)((function(){s(t)}),[t]);var s=function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getMovieById(t);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:i.Poster,alt:"".concat(i.Title," poster")}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:i.Title}),Object(b.jsx)("span",{children:i.imdbRating})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:i.Rated}),Object(b.jsx)("span",{children:i.Runtime}),Object(b.jsx)("span",{children:i.Genre})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Plot"}),i.Plot]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Actors"}),i.Actors]})]})]}):Object(b.jsx)("h2",{children:"Loading..."})},w=function(e){var t=e.onSearch,n=Object(c.useState)(),r=Object(d.a)(n,2),i=r[0],a=r[1];return Object(b.jsx)("div",{children:Object(b.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(i)}(e)},children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title"}),Object(b.jsx)("input",{type:"text",name:"title",onChange:function(e){return a(e.target.value)}}),Object(b.jsx)("button",{disabled:!i,children:"Search"})]})})})},y=function(e){var t=e.movie,n=e.setSelectedMovie,c=e.addMovieToUserList;return Object(b.jsxs)("div",{className:"movie-card",children:[Object(b.jsx)("img",{src:t.Poster,alt:"".concat(t.Title," poster")}),Object(b.jsx)("h5",{children:t.Title}),Object(b.jsx)("button",{onClick:function(){return n(t.imdbID)},children:"Show Details"}),Object(b.jsx)("button",{onClick:function(){return c(t)},children:"Add To My List"})]},t.imdbID)},S=(new m,function(){function e(){Object(f.a)(this,e)}return Object(O.a)(e,[{key:"addMovieToList",value:function(e){var t=localStorage.getItem("movieList");console.log(t),t&&(t=JSON.parse(t)).list.push(e),t||(t={list:[e]}),localStorage.setItem("movieList",JSON.stringify(t))}},{key:"getMovieList",value:function(){var e=localStorage.getItem("movieList");return e?JSON.parse(e):null}}]),e}());a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsxs)(s.d,{children:[Object(b.jsx)(s.b,{exact:!0,path:"/react-practice",component:function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),a=Object(d.a)(i,2),o=a[0],s=a[1],u=new m,f=new S,O=Object(c.useState)(),v=Object(d.a)(O,2),p=v[0],x=v[1],M=Object(c.useState)(),k=Object(d.a)(M,2),T=k[0],L=k[1],I=Object(c.useState)(),B=Object(d.a)(I,2),C=B[0],N=B[1],J=function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(t),e.next=3,u.getMoviesByTitle(t);case 3:n=e.sent,x(Math.ceil(n.totalResults/10)),r(n.Search);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(t),e.next=3,u.getMoviesByTitle(T,t);case 3:n=e.sent,console.log("movieListByPage: ",n),r(n.Search);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){f.addMovieToList(e)};return Object(b.jsxs)("div",{className:"movie-list-container",children:[Object(b.jsx)(w,{onSearch:function(e){J(e)}}),n&&n.map((function(e,t){return Object(b.jsx)(y,{movie:e,setSelectedMovie:s,addMovieToUserList:D})})),o&&Object(b.jsx)(h,{showModal:!!o,closeModal:function(){return s(null)},children:Object(b.jsx)(g,{id:o})}),p&&function(){for(var e=[],t=function(t){e.push(Object(b.jsx)("button",{onClick:function(){return P(t+1)},disabled:t+1===C,children:t+1}))},n=0;n<p;n++)t(n);return Object(b.jsx)("div",{children:e})}()]})}}),Object(b.jsx)(s.b,{exact:!0,path:"/react-practice/usermovielist",component:function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],i=new S;Object(c.useEffect)((function(){a()}),[]);var a=function(){var e=i.getMovieList();r(e)};return Object(b.jsxs)("div",{children:[console.log(n),n&&n.list.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsx)(y,{movie:e})})}))]})}}),Object(b.jsx)(s.b,{path:"**",render:function(){return Object(b.jsx)(s.a,{to:"/react-practice"})}})]})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.6192db51.chunk.js.map